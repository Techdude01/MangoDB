{% extends "base.html" %}

{% block style %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='./css/style.css') }}">
{% endblock %}

{% block title %}
User Login
{% endblock %}
{% block body %}

<h1>Login</h1>
<form action="{{ url_for('login') }}" method="post">
    <label for="username">Username:</label>
    <input type="text" id="username" name="username" required>
    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required>
    <button type="submit">Login</button>
</form>
{% endblock %}
<nav class="navbar">
    <ul>
        <li><a href="/">Home</a></li>
    </ul>
</nav>
{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
{% for category, message in messages %}
<div class="alert alert-{{ category }}">
    {{ message }}
</div>
{% endfor %}
{% endif %}
{% endwith %}
<div class="usr-login">
    <h1>User Login</h1>
    <h3>Enter your login credentials</h3>
    <form id="userlogin-form" action="{{ url_for('login') }}" method="post">
        <label for="user_username">
            Username:
        </label>
        <input type="text" id="user_username" name="user_username" placeholder="Enter your Username" required>

        <label for="user_password">
            Password:
        </label>
        <input type="password" id="user_password" name="user_password" placeholder="Enter your Password" required>
        <div class="wrap">
            <button type="button" onclick="validateLoginForm()">
                Login
            </button>
        </div>
    </form>

    <script>
        function validateLoginForm() {
            var username = document.getElementById("user_username").value;
            var password = document.getElementById("user_password").value;

            if (!username || !password) {
                alert("Please enter Username and Password");
                return false;
            }

            document.getElementById("userlogin-form").submit();
        }
    </script>
</div>
{% endblock %}